"use strict";(self["webpackChunkhead_line"]=self["webpackChunkhead_line"]||[]).push([[323],{801:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-container"},[e("div",{staticClass:"user-card"},[e("van-cell",{scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{staticClass:"avatar",attrs:{src:t.$store.state.userPhoto,alt:""}})]},proxy:!0},{key:"title",fn:function(){return[e("span",{staticClass:"username"},[t._v(t._s(t.userObj.name))])]},proxy:!0},{key:"label",fn:function(){return[e("van-tag",{attrs:{color:"#fff","text-color":"#007bff"}},[t._v("申请认证")])]},proxy:!0}])}),e("div",{staticClass:"user-data"},[e("div",{staticClass:"user-data-item"},[e("span",[t._v(t._s(t.userObj.art_count))]),e("span",[t._v("动态")])]),e("div",{staticClass:"user-data-item"},[e("span",[t._v(t._s(t.userObj.follow_count))]),e("span",[t._v("关注")])]),e("div",{staticClass:"user-data-item"},[e("span",[t._v(t._s(t.userObj.fans_count))]),e("span",[t._v("粉丝")])])])],1),e("van-cell-group",{staticClass:"action-card"},[e("van-cell",{attrs:{icon:"edit",title:"编辑资料","is-link":"",to:"/user_edit"}}),e("van-cell",{attrs:{icon:"chat-o",title:"小思同学","is-link":"",to:"/chat"}}),e("van-cell",{attrs:{icon:"warning-o",title:"退出登录","is-link":""},on:{click:t.quitFn}})],1)],1)},n=[],r=(s(8618),s(5705)),i=s(3110),o=s(3505),u={name:"myUser",data(){return{userObj:{}}},async created(){const{data:t}=await(0,i._N)();this.userObj=t.data,this.$store.commit("SET_USERPHOTO",this.userObj.photo)},methods:{quitFn(){r.Z.confirm({title:"提示",message:"是否退出登录"}).then((()=>{(0,o.gy)(),(0,o.ox)(),this.$router.replace("/login")})).catch((()=>{}))}}},c=u,l=s(1001),d=(0,l.Z)(c,a,n,!1,null,"88ebfb58",null),f=d.exports},3110:function(t,e,s){s.d(e,{HW:function(){return o},Og:function(){return r},UO:function(){return n},_N:function(){return i},tV:function(){return u}});var a=s(4946);const n=({mobile:t,code:e})=>(0,a.Z)({url:"/v1_0/authorizations",method:"POST",data:{mobile:t,code:e}}),r=()=>(0,a.Z)({url:"/v1_0/user/profile",method:"GET"}),i=()=>(0,a.Z)({url:"/v1_0/user",method:"GET"}),o=t=>(0,a.Z)({url:"/v1_0/user/photo",method:"PATCH",data:t}),u=t=>{const e={name:"",gender:0,birthday:""};for(const s in e)void 0===t[s]?delete e[s]:e[s]=t[s];return(0,a.Z)({url:"/v1_0/user/profile",method:"PATCH",data:e})}}}]);
//# sourceMappingURL=User.0a1ea0e9.js.map