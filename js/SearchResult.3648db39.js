"use strict";(self["webpackChunkhead_line"]=self["webpackChunkhead_line"]||[]).push([[181],{3058:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"search-result-container"},[e("van-nav-bar",{attrs:{title:"搜索结果","left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.go(-1)}}})],1),e("div",[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.articleList,(function(a){return e("article-item",{key:a.art_id,attrs:{articleObj:a,isShow:!1},nativeOn:{click:function(e){return t.itemClickFn(a.art_id)}}})})),1)],1)])},n=[],s=a(430),r=a(666),l={name:"SearchResult",data(){return{page:1,articleList:[],loading:!1,finished:!1}},components:{ArticleItem:r.Z},async created(){const{data:t}=await(0,s.G)({page:this.page,q:this.$route.params.kw});this.articleList=t.data.results},methods:{async onLoad(){if(this.articleList.length>0){this.page++;const{data:t}=await(0,s.G)({page:this.page,q:this.$route.params.kw});0===t.data.results.length&&(this.finished=!0),this.articleList=[...this.articleList,...t.data.results],this.loading=!1}},itemClickFn(t){this.$router.push(`/detail?art_id=${t}`)}}},c=l,o=a(1001),d=(0,o.Z)(c,i,n,!1,null,"c4740410",null),u=d.exports},430:function(t,e,a){a.d(e,{B:function(){return n},G:function(){return s}});var i=a(4946);const n=({keywords:t})=>(0,i.Z)({url:"/v1_0/suggestion",method:"GET",params:{q:t}}),s=({page:t=1,perPage:e=10,q:a})=>(0,i.Z)({url:"/v1_0/search",method:"GET",params:{page:t,per_page:e,q:a}})}}]);
//# sourceMappingURL=SearchResult.3648db39.js.map